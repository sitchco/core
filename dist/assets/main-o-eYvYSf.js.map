{"version":3,"file":"main-o-eYvYSf.js","sources":["../../modules/UIFramework/assets/scripts/lib/constants.mjs","../../modules/UIFramework/assets/scripts/lib/util.mjs","../../modules/UIFramework/assets/scripts/lib/viewport.mjs","../../modules/UIFramework/assets/scripts/lib/hooks.mjs","../../modules/UIFramework/assets/scripts/lib/script-registration.js","../../modules/UIFramework/assets/scripts/lib/hash-state.mjs","../../modules/UIFramework/assets/scripts/lib/event-actions.mjs","../../modules/UIFramework/assets/scripts/lib/scroll-watch.mjs","../../modules/UIFramework/assets/scripts/lib/header-height.mjs","../../modules/UIFramework/assets/scripts/lib/css-vars.mjs","../../modules/UIFramework/assets/scripts/lib/exit-intent.mjs","../../modules/UIFramework/assets/scripts/main.mjs"],"sourcesContent":["export const NAMESPACE = 'sitchco';\n\nexport const INIT = 'init';\n\nexport const REGISTER = 'initRegister';\n\nexport const READY = 'initReady';\n\nexport const HASH_STATE_CHANGE = 'hashStateChange';\n\nexport const SET_HASH_STATE = 'setHashState';\n\nexport const LAYOUT = 'layout';\n\nexport const LAYOUTEND = 'layoutEnd';\n\nexport const SCROLLSTART = 'scrollStart';\n\nexport const SCROLL = 'scroll';\n\nexport const SCROLLEND = 'scrollEnd';\n\nexport const USER_FIRST_INTERACTION = 'userFirstInteraction';\n\nexport const GFORM_CONFIRM = 'gformConfirmation';\n\nexport const GA_EVENT = 'gaEvent';\n\nexport const GTM_INTERACTION = 'dataLayerInteraction';\n\nexport const GTM_STATE = 'dataLayerState';\n\nexport const TRANSITION_END_EVENT = 'webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend';\n\nexport const isiOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n","/**\n * Usage:\n * const newUrl = updateUrlParameter(oldUrl, 'myparam', 'myvalue');\n * - or -\n * const newUrl = updateUrlParameter(oldUrl, 'myparam=myvalue');\n * Result:\n * \"http://old-url.com/?myparam=myvalue\"\n *\n * Accommodates existing different or some query parameters, as well as hash state\n *\n * @param uri {string}\n * @param key {string}\n * @param value {string}\n * @returns {string}\n */\nexport function updateUrlParameter(uri, key, value) {\n    try {\n        const url = new URL(uri, window.location.origin); // Handles relative URLs\n        const params = url.searchParams;\n        if (!value && key.includes('=')) {\n            [key, value] = key.split('=');\n        }\n        if (!value) {\n            params.delete(key);\n        } else {\n            params.set(key, value);\n        }\n        return url.origin + url.pathname + (params.toString() ? `?${params.toString()}` : '') + url.hash;\n    } catch (err) {\n        console.warn(`updateUrlParameter: Invalid URL - \"${uri}\"`, err);\n        return uri;\n    }\n}\n\nexport function splitStr(str, delim = ',') {\n    if (Array.isArray(str)) {\n        return str;\n    }\n    if (typeof str !== 'string') {\n        return [];\n    }\n    return str\n        .split(delim)\n        .map((item) => item.trim())\n        .filter(Boolean); // Removes empty strings\n}\n\nexport function groupByParent(selector) {\n    const elements = Array.from(document.querySelectorAll(selector));\n    const parents = new Set(elements.map((el) => el.parentElement));\n    return Array.from(parents).map((parent) => Array.from(parent.querySelectorAll(`:scope > ${selector}`)));\n}\n\nexport function uniqueID() {\n    return crypto.randomUUID();\n}\n\nexport function whitelistAssign(defaults, override) {\n    if (!override || typeof override !== 'object') {\n        return { ...defaults };\n    }\n\n    const result = { ...defaults };\n    Object.keys(override).forEach((key) => {\n        if (Object.prototype.hasOwnProperty.call(defaults, key)) {\n            result[key] = override[key];\n        }\n    });\n    return result;\n}\n\nexport function groupByRow(els) {\n    const groups = [];\n\n    for (const el of els) {\n        if (el.offsetParent === null) {\n            // element is not visible (similar to jQuery :visible)\n            continue;\n        }\n\n        const rect = el.getBoundingClientRect();\n        const top = rect.top + window.scrollY; // top relative to document\n        const bottom = top + rect.height;\n        let found = false;\n\n        for (const group of groups) {\n            // Overlap conditions from original logic\n            if (top <= group.top && bottom >= group.bottom) {\n                group.top = top;\n                group.bottom = bottom;\n                group.elements.push(el);\n                found = true;\n                break;\n            } else if (top >= group.top && bottom <= group.bottom) {\n                group.elements.push(el);\n                found = true;\n                break;\n            }\n        }\n\n        if (!found) {\n            groups.push({\n                top,\n                bottom,\n                elements: [el],\n            });\n        }\n    }\n\n    // Sort groups by their top position ascending\n    groups.sort((a, b) => a.top - b.top);\n    // Return only arrays of grouped elements\n    return groups.map((group) => group.elements);\n}\n\nexport function imageBrightness(imageSrc) {\n    return new Promise((resolve) => {\n        const isExternal = /^([\\w]+:)?\\/\\//.test(imageSrc) && !imageSrc.includes(location.host);\n        if (isExternal) {\n            resolve(false);\n            return;\n        }\n\n        const img = new Image();\n        img.crossOrigin = 'anonymous';\n\n        img.onload = function () {\n            const canvas = document.createElement('canvas');\n            canvas.width = this.width;\n            canvas.height = this.height;\n            const ctx = canvas.getContext('2d');\n            ctx.drawImage(this, 0, 0);\n\n            try {\n                const { data } = ctx.getImageData(0, 0, canvas.width, canvas.height);\n                let colorSum = 0;\n\n                for (let i = 0; i < data.length; i += 4) {\n                    const [r, g, b] = [data[i], data[i + 1], data[i + 2]];\n                    const lum = 0.299 * r + 0.587 * g + 0.114 * b;\n                    colorSum += lum;\n                }\n\n                const brightness = Math.round((colorSum / (this.width * this.height) / 255) * 100);\n                resolve(brightness);\n            } catch {\n                resolve(false); // Usually canvas is tainted by CORS issues\n            }\n        };\n\n        img.onerror = () => resolve(false);\n        img.src = imageSrc;\n    });\n}\n\nexport function debounce(func, wait, { leading = false, trailing = true } = {}) {\n    let timeout, lastArgs, lastThis, result;\n\n    const invoke = () => {\n        result = func.apply(lastThis, lastArgs);\n        lastArgs = lastThis = null;\n    };\n    return function (...args) {\n        const context = this;\n        const callNow = leading && !timeout;\n        if (timeout) {\n            clearTimeout(timeout);\n        }\n\n        lastArgs = args;\n        lastThis = context;\n        timeout = setTimeout(() => {\n            timeout = null;\n\n            if (trailing && !callNow) {\n                invoke();\n            }\n        }, wait);\n\n        if (callNow) {\n            invoke();\n        }\n        return result;\n    };\n}\n\nexport function throttle(fn, limit, { leading = true, trailing = true } = {}) {\n    let lastCall = 0;\n    let timeout = null;\n    let lastArgs;\n    return function (...args) {\n        const now = Date.now();\n        if (!lastCall && !leading) {\n            lastCall = now;\n        }\n\n        const remaining = limit - (now - lastCall);\n        lastArgs = args;\n\n        if (remaining <= 0) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n\n            lastCall = now;\n            fn(...args);\n        } else if (!timeout && trailing) {\n            timeout = setTimeout(() => {\n                lastCall = leading ? Date.now() : 0;\n                timeout = null;\n                fn(...lastArgs);\n            }, remaining);\n        }\n    };\n}\n","export const width = () => Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\nexport const height = () => Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nexport const scrollPosition = () => {\n    const scrollTop = window.scrollY || window.pageYOffset || document.documentElement.scrollTop || 0;\n    const windowHeight = width();\n    return {\n        top: scrollTop,\n        bottom: scrollTop + windowHeight,\n        height: windowHeight,\n    };\n};\n\nexport const isInViewport = (el) => {\n    if (!el || !(el instanceof Element)) {\n        return false;\n    }\n\n    const rect = el.getBoundingClientRect();\n    return rect.bottom >= 0 && rect.right >= 0 && rect.top <= height() && rect.left <= width();\n};\n\nexport const isVisible = (el) => !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length);\n","import { NAMESPACE } from './constants.mjs';\n\nconst {\n    addAction: _addAction,\n    addFilter: _addFilter,\n    removeAction: _removeAction,\n    removeFilter: _removeFilter,\n    hasAction: _hasAction,\n    hasFilter: _hasFilter,\n    removeAllActions,\n    removeAllFilters,\n    doAction,\n    doActionAsync,\n    applyFilters,\n    applyFiltersAsync,\n    doingAction,\n    doingFilter,\n    didAction,\n    didFilter,\n    actions,\n    filters,\n    defaultHooks,\n} = window.wp.hooks.createHooks();\n\n/**\n * Build the full namespace for a hook.\n * @param {string} [subNamespace]\n * @returns {string}\n */\nfunction buildNamespace(subNamespace) {\n    return subNamespace ? `${NAMESPACE}/${subNamespace}` : NAMESPACE;\n}\n\n/**\n * Add a namespaced action.\n */\nexport function addAction(hookName, callback, priority = 10, subNamespace = '') {\n    _addAction(hookName, buildNamespace(subNamespace), callback, priority);\n}\n\n/**\n * Add a namespaced filter.\n */\nexport function addFilter(hookName, callback, priority = 10, subNamespace = '') {\n    _addFilter(hookName, buildNamespace(subNamespace), callback, priority);\n}\n\n/**\n * Remove a namespaced action.\n */\nexport function removeAction(hookName, callback, subNamespace) {\n    _removeAction(hookName, buildNamespace(subNamespace), callback);\n}\n\n/**\n * Remove a namespaced filter.\n */\nexport function removeFilter(hookName, callback, subNamespace) {\n    _removeFilter(hookName, buildNamespace(subNamespace), callback);\n}\n\n/**\n * Check if a namespaced action exists.\n */\nexport function hasAction(hookName, subNamespace = '') {\n    return _hasAction(hookName, buildNamespace(subNamespace));\n}\n\n/**\n * Check if a namespaced filter exists.\n */\nexport function hasFilter(hookName, subNamespace = '') {\n    return _hasFilter(hookName, buildNamespace(subNamespace));\n}\n\n// Pass through exports for rest of API\nexport {\n    removeAllActions,\n    removeAllFilters,\n    doAction,\n    doActionAsync,\n    applyFilters,\n    applyFiltersAsync,\n    doingAction,\n    doingFilter,\n    didAction,\n    didFilter,\n    actions,\n    filters,\n    defaultHooks,\n};\n","const scripts = new Map();\n\nexport function registerScript(name, url) {\n    if (!scripts.has(name)) {\n        scripts.set(name, {\n            url,\n            promise: null,\n            requested: false,\n        });\n    }\n}\n\nexport function loadScript(name, url) {\n    if (!scripts.has(name)) {\n        if (url) {\n            registerScript(name, url);\n        } else {\n            return Promise.reject(new Error(`Script \"${name}\" is not registered and no URL was provided.`));\n        }\n    }\n\n    const scriptInfo = scripts.get(name);\n    if (!scriptInfo.requested) {\n        scriptInfo.requested = true;\n        scriptInfo.promise = new Promise((resolve, reject) => {\n            const script = document.createElement('script');\n            script.src = scriptInfo.url;\n            script.async = true;\n            script.onload = () => resolve(name);\n            script.onerror = () => reject(new Error(`Failed to load script: ${scriptInfo.url}`));\n            document.head.appendChild(script);\n        });\n    }\n    return scriptInfo.promise;\n}\n","import { READY, SET_HASH_STATE, HASH_STATE_CHANGE } from './constants.mjs';\nimport { addAction, doAction } from './hooks.mjs';\n\nfunction getPath() {\n    return decodeURIComponent(location.hash.slice(1)).replace(/^\\/+/, '');\n}\n\nfunction getPathList() {\n    const path = getPath();\n    return path ? path.split('/') : [];\n}\n\nclass HashState {\n    constructor(previous) {\n        this.current = getPath();\n        this.currentList = getPathList();\n        this.currentId = this.current.replace('/', '__');\n\n        if (previous !== undefined) {\n            this.previous = previous.current;\n            this.previousList = previous.currentList;\n        }\n    }\n\n    hasChanged() {\n        return this.current !== this.previous;\n    }\n\n    isset() {\n        return !!this.current;\n    }\n\n    matchesHash(hash) {\n        return this.current.includes(hash.replace(/^#/, ''));\n    }\n}\nlet currentState = new HashState();\n\nexport const hashState = {\n    emit() {\n        if (currentState.isset() && currentState.hasChanged()) {\n            doAction(HASH_STATE_CHANGE, currentState);\n        }\n    },\n    isset() {\n        return currentState.isset();\n    },\n    get() {\n        return currentState;\n    },\n    set(newState) {\n        if (typeof newState === 'string') {\n            location.hash = `/${newState.replace(/^\\/+/, '')}`;\n            return;\n        }\n\n        currentState = new HashState(currentState);\n        this.emit();\n    },\n    setList(stateList) {\n        this.set(stateList.join('/'));\n    },\n};\n\nexport function registerHashStateActions() {\n    addAction(\n        READY,\n        () => {\n            hashState.emit();\n            window.addEventListener('hashchange', () => {\n                hashState.set();\n            });\n        },\n        99\n    );\n\n    addAction(SET_HASH_STATE, (hash) => {\n        hashState.set(hash);\n    });\n}\n","import { applyFilters, doAction } from './hooks.mjs';\nimport * as viewport from './viewport.mjs';\nimport { LAYOUT, LAYOUTEND, SCROLL, SCROLLSTART, SCROLLEND, USER_FIRST_INTERACTION, isiOS } from './constants.mjs';\nimport { debounce, throttle } from './util.mjs';\n\nlet broadcastLayoutUpdate = () => {};\n\nlet broadcastLayoutEnd = () => {};\n\nexport function updateLayout() {\n    broadcastLayoutUpdate();\n    broadcastLayoutEnd();\n}\n\nexport function registerLayoutActions() {\n    const debounceDelay = applyFilters('debounceDelay', 300) || 300;\n    const throttleLayout = applyFilters('layoutThrottle', 300) || 300;\n    const throttleScroll = applyFilters('scrollThrottle', 100) || 100;\n    let docWidth = viewport.width();\n    let isScrolling = false;\n    let currentWidth = 0;\n\n    const widthHasChanged = () => {\n        const newWidth = viewport.width();\n        if (currentWidth === newWidth) {\n            return false;\n        }\n\n        currentWidth = newWidth;\n        return true;\n    };\n\n    broadcastLayoutUpdate = throttle(\n        () => {\n            requestAnimationFrame(() => {\n                doAction(LAYOUT, widthHasChanged());\n            });\n        },\n        throttleLayout,\n        {\n            leading: true,\n            trailing: false,\n        }\n    );\n\n    broadcastLayoutEnd = debounce(() => {\n        requestAnimationFrame(() => {\n            doAction(LAYOUTEND);\n        });\n    }, debounceDelay);\n\n    const broadcastScrollEnd = debounce((event, position) => {\n        isScrolling = false;\n        requestAnimationFrame(() => {\n            doAction(SCROLLEND, event, position);\n        });\n    }, debounceDelay);\n    const onScroll = throttle(\n        (event) => {\n            const position = viewport.scrollPosition();\n            if (!isScrolling) {\n                isScrolling = true;\n                requestAnimationFrame(() => {\n                    doAction(SCROLLSTART, event, position);\n                });\n            }\n\n            requestAnimationFrame(() => {\n                doAction(SCROLL, event, position);\n            });\n\n            broadcastScrollEnd(event, position);\n        },\n        throttleScroll,\n        { leading: true }\n    );\n\n    const onUserFirstInteraction = () => {\n        window.removeEventListener('keydown', onUserFirstInteraction);\n        window.removeEventListener('mousemove', onUserFirstInteraction);\n        window.removeEventListener('touchmove', onUserFirstInteraction);\n        window.removeEventListener('touchstart', onUserFirstInteraction);\n        window.removeEventListener('touchend', onUserFirstInteraction);\n        window.removeEventListener('wheel', onUserFirstInteraction);\n        requestAnimationFrame(() => {\n            doAction(USER_FIRST_INTERACTION);\n        });\n    };\n\n    // Event bindings\n    window.addEventListener('load', updateLayout);\n    window.addEventListener('orientationchange', updateLayout);\n    window.addEventListener('orientationchange', () => {\n        setTimeout(updateLayout, 600);\n    });\n\n    if (isiOS) {\n        window.addEventListener('resize', () => {\n            const width = viewport.width();\n            if (width !== docWidth) {\n                updateLayout();\n            }\n\n            docWidth = width;\n        });\n    } else {\n        window.addEventListener('resize', updateLayout);\n    }\n\n    document.addEventListener('keydown', (e) => {\n        const code = e.which || e.keyCode;\n        const codes = {\n            9: 'tab',\n            13: 'return',\n            27: 'esc',\n        };\n        if (codes.hasOwnProperty(code)) {\n            doAction('key.' + codes[code], e);\n        }\n    });\n\n    window.addEventListener('scroll', onScroll);\n    // First interaction trigger\n    ['keydown', 'mousemove', 'touchmove', 'touchstart', 'touchend', 'wheel'].forEach((event) =>\n        window.addEventListener(event, onUserFirstInteraction, { once: true })\n    );\n\n    updateLayout();\n}\n","import { addAction } from './hooks.mjs';\nimport { isInViewport, isVisible } from './viewport.mjs';\nimport { READY, SCROLL, LAYOUT } from './constants.mjs';\n\nconst registered = [];\nlet windowLoaded = false;\n\nfunction initCallback(group) {\n    if (group.options.defer && !windowLoaded) {\n        return;\n    }\n\n    group.els = group.els.filter((el) => {\n        const shouldCheck = isInViewport(el) && (group.force || isVisible(el));\n        if (shouldCheck) {\n            const prune = group.callback.call(el, el);\n            return !(prune || group.options.prune); // keep only if NOT pruned\n        }\n        return true;\n    });\n}\n\nfunction checkElements() {\n    for (let i = registered.length - 1; i >= 0; i--) {\n        const group = registered[i];\n        if (group.els.length) {\n            initCallback(group);\n        } else {\n            registered.splice(i, 1);\n        }\n    }\n}\n\n/**\n * Register scroll watcher\n *\n * @param {Element[] | NodeList} els - Elements to observe\n * @param {function} callback - Called when element enters viewport\n * @param {Object} [options]\n * @param {boolean} [options.force=false] - Trigger even if element isn't visible\n * @param {boolean} [options.defer=false] - Wait for window load event\n * @param {boolean} [options.prune=true] - Remove element after triggering once\n */\nexport function scrollWatch(els, callback, options = {}) {\n    const merged = {\n        force: false,\n        defer: false,\n        prune: true,\n        ...options,\n    };\n    const arrayEls = Array.from(els).filter(Boolean);\n    if (arrayEls.length) {\n        registered.push({\n            els: arrayEls,\n            callback,\n            options: merged,\n        });\n    }\n}\n\n// Call checkElements on scroll\nwindow.addEventListener('scroll', () => requestAnimationFrame(checkElements));\nwindow.addEventListener('load', () => {\n    windowLoaded = true;\n    checkElements();\n});\n\nexport function registerScrollWatchActions() {\n    addAction(READY, checkElements);\n    addAction(SCROLL, checkElements);\n    addAction(LAYOUT, checkElements);\n}\n","import { addAction, addFilter, applyFilters } from './hooks.mjs';\nimport { debounce } from './util.mjs';\nimport { HASH_STATE_CHANGE, isiOS } from './constants.mjs';\n\nexport function registerHeaderHeightActions() {\n    const header = document.querySelector('header');\n    let headerHeight = header?.offsetHeight || 0;\n    addFilter('header-height', () => header?.offsetHeight || 0, 5);\n    addFilter(\n        'header-offset',\n        () => {\n            if (window.scrollY === 0) {\n                headerHeight = header?.offsetHeight || 0;\n            }\n            return headerHeight;\n        },\n        5\n    );\n\n    addFilter('css-vars.register', (styles) => {\n        styles['header-height'] = () => `${applyFilters('header-height')}px`;\n        styles['header-offset'] = () => `${applyFilters('header-offset')}px`;\n        return styles;\n    });\n\n    const scrollTargetFallback = debounce(\n        (event) => {\n            const hash = window.location.hash;\n            if (!hash) {\n                return;\n            }\n\n            const browserTarget = document.querySelector(hash);\n            if (!browserTarget) {\n                return;\n            }\n\n            const computedStyle = getComputedStyle(browserTarget);\n            const paddingTop = parseInt(computedStyle.paddingTop, 10);\n            const hasAnchorClass = browserTarget.classList.contains('anchor');\n            if (!paddingTop && !hasAnchorClass) {\n                return;\n            }\n            if (event) {\n                const prevented = typeof event.isDefaultPrevented === 'function' ? event.isDefaultPrevented() : false;\n                const stopped = typeof event.isPropagationStopped === 'function' ? event.isPropagationStopped() : false;\n                if (prevented || stopped) {\n                    return;\n                }\n            }\n\n            let selector;\n\n            try {\n                selector = event?.currentTarget?.getAttribute('href');\n            } catch {\n                selector = event?.current ? `#${event.current}` : '';\n            }\n\n            if (!selector?.startsWith('#')) {\n                return;\n            }\n\n            const actionTarget = document.querySelector(selector);\n            if (!actionTarget || actionTarget !== browserTarget) {\n                return;\n            }\n\n            const targetOffset = actionTarget.getBoundingClientRect().top + window.scrollY;\n            window.scrollTo({\n                top: targetOffset - applyFilters('header-height'),\n                behavior: 'smooth',\n            });\n        },\n        isiOS ? 300 : 0\n    );\n    addAction(HASH_STATE_CHANGE, scrollTargetFallback);\n    document.addEventListener('click', (event) => {\n        const target = event.target.closest('a[href^=\"#\"]');\n        if (target) {\n            scrollTargetFallback(event);\n        }\n    });\n}\n","import { addAction, addFilter, applyFilters } from './hooks.mjs';\nimport { LAYOUT, READY, SCROLL } from './constants.mjs';\nimport { scrollPosition } from './viewport.mjs';\n\nexport class DynamicStylesheet {\n    constructor(name) {\n        this.name = name;\n        this.styles = {};\n    }\n\n    update() {\n        if (Object.keys(this.styles).length === 0) {\n            return;\n        }\n\n        for (const [key, value] of Object.entries(this.styles)) {\n            const resolved = typeof value === 'function' ? value() : value;\n            document.documentElement.style.setProperty(`--dynamic__${key}`, resolved);\n        }\n    }\n}\n\nexport function registerCssVarsActions() {\n    const layoutStyles = new DynamicStylesheet('dynamic-styles');\n    const scrollStyles = new DynamicStylesheet('scroll-styles');\n    let currentScrollPosition = scrollPosition().top;\n    addAction(\n        READY,\n        function () {\n            const useScroll = applyFilters('css-vars.use-scroll', false);\n            layoutStyles.styles = applyFilters('css-vars.register', layoutStyles.styles);\n            layoutStyles.update();\n\n            if (useScroll) {\n                scrollStyles.styles = applyFilters('css-vars.register-scroll', scrollStyles.styles);\n                scrollStyles.update();\n                addAction(SCROLL, () => scrollStyles.update(), 10);\n            }\n        },\n        100\n    );\n\n    addAction(LAYOUT, () => layoutStyles.update(), 10);\n    addAction('css-vars.refresh', () => layoutStyles.update(), 10);\n    addFilter('css-vars.register-scroll', function (styles) {\n        styles['scroll-direction'] = function () {\n            const newPosition = scrollPosition().top;\n            const direction = newPosition >= currentScrollPosition ? 1 : -1;\n            currentScrollPosition = newPosition;\n            return direction;\n        };\n        return styles;\n    });\n}\n","import { doAction, applyFilters } from './hooks.mjs';\nimport { debounce } from './util.mjs';\n\nlet disabled = false;\n\nfunction detectExitIntent() {\n    const triggerCustomEvent = debounce(\n        () => {\n            if (!applyFilters('enableExitIntent', true) || disabled) {\n                return;\n            }\n\n            doAction('exitIntent');\n            disabled = true;\n        },\n        500,\n        {\n            leading: false,\n            trailing: true,\n        }\n    );\n    document.addEventListener('mouseout', (e) => {\n        const nearTopEdge = e.clientY < 5;\n        const nearLeftEdge = e.clientX < 5;\n        if (!e.relatedTarget && !e.toElement && (nearTopEdge || nearLeftEdge)) {\n            triggerCustomEvent();\n        }\n    });\n\n    document.addEventListener('visibilitychange', () => {\n        if (document.visibilityState === 'hidden') {\n            triggerCustomEvent();\n        }\n    });\n}\n\nexport function registerExitIntentActions() {\n    if (applyFilters('enableExitIntent', false)) {\n        detectExitIntent();\n    }\n}\n","import * as constants from './lib/constants.mjs';\nimport * as util from './lib/util.mjs';\nimport * as viewport from './lib/viewport.mjs';\nimport * as hooks from './lib/hooks.mjs';\nimport { loadScript, registerScript } from './lib/script-registration.js';\nimport { hashState, registerHashStateActions } from './lib/hash-state.mjs';\nimport { registerLayoutActions, updateLayout } from './lib/event-actions.mjs';\nimport { registerScrollWatchActions, scrollWatch } from './lib/scroll-watch.mjs';\nimport { registerHeaderHeightActions } from './lib/header-height.mjs';\nimport { registerCssVarsActions } from './lib/css-vars.mjs';\nimport { registerExitIntentActions } from './lib/exit-intent.mjs';\n\nconst register = (cb) => hooks.addAction(constants.REGISTER, cb, 100);\nwindow.sitchco = {\n    constants,\n    hooks,\n    util,\n    viewport,\n    loadScript,\n    registerScript,\n    hashState,\n    register,\n    updateLayout,\n    scrollWatch,\n};\n\n// Init listeners\nhooks.addAction(\n    constants.READY,\n    () => {\n        hashState.emit();\n        window.addEventListener('hashchange', () => {\n            hashState.set();\n        });\n    },\n    99\n);\n\nhooks.addAction(constants.SET_HASH_STATE, (hash) => {\n    hashState.set(hash);\n});\n\n// Core components\nregister(registerHashStateActions);\nregister(registerLayoutActions);\nregister(registerScrollWatchActions);\nregister(registerHeaderHeightActions);\nregister(registerCssVarsActions);\nregister(registerExitIntentActions);\nwindow.addEventListener('DOMContentLoaded', () => {\n    // Use this event if for external or non-explicit dependencies\n    document.dispatchEvent(new CustomEvent('sitchco/core/init', window.sitchco));\n    // Theme should register here to add any filters\n    hooks.doAction(constants.INIT);\n    // Components should register here so theme can filter\n    hooks.doAction(constants.REGISTER);\n    // Component post-registration actions can happen here\n    hooks.doAction(constants.READY);\n});\n\nwindow.addEventListener('load', () => {\n    // Fallback for any cases where fonts.ready fails\n    document.documentElement.classList.add('fonts-loaded');\n});\n\nif (window.jQuery) {\n    jQuery(document).bind('gform_confirmation_loaded', function (event, formId) {\n        hooks.doAction(constants.GFORM_CONFIRM, formId);\n    });\n}\n// document.write('TEsting testing testing')\n"],"names":["NAMESPACE","INIT","REGISTER","READY","HASH_STATE_CHANGE","SET_HASH_STATE","LAYOUT","LAYOUTEND","SCROLLSTART","SCROLL","SCROLLEND","USER_FIRST_INTERACTION","GFORM_CONFIRM","GA_EVENT","GTM_INTERACTION","GTM_STATE","TRANSITION_END_EVENT","isiOS","updateUrlParameter","uri","key","value","url","params","err","splitStr","str","delim","item","groupByParent","selector","elements","parents","el","parent","uniqueID","whitelistAssign","defaults","override","result","groupByRow","els","groups","rect","top","bottom","found","group","a","b","imageBrightness","imageSrc","resolve","img","canvas","ctx","data","colorSum","i","r","g","lum","brightness","debounce","func","wait","leading","trailing","timeout","lastArgs","lastThis","invoke","args","context","callNow","throttle","fn","limit","lastCall","now","remaining","width","height","scrollPosition","scrollTop","windowHeight","isInViewport","isVisible","_addAction","_addFilter","_removeAction","_removeFilter","_hasAction","_hasFilter","removeAllActions","removeAllFilters","doAction","doActionAsync","applyFilters","applyFiltersAsync","doingAction","doingFilter","didAction","didFilter","actions","filters","defaultHooks","buildNamespace","subNamespace","addAction","hookName","callback","priority","addFilter","removeAction","removeFilter","hasAction","hasFilter","scripts","registerScript","name","loadScript","scriptInfo","reject","script","getPath","getPathList","path","HashState","previous","hash","currentState","hashState","newState","stateList","registerHashStateActions","broadcastLayoutUpdate","broadcastLayoutEnd","updateLayout","registerLayoutActions","debounceDelay","throttleLayout","throttleScroll","docWidth","viewport.width","isScrolling","currentWidth","widthHasChanged","newWidth","broadcastScrollEnd","event","position","onScroll","viewport.scrollPosition","onUserFirstInteraction","e","code","codes","registered","windowLoaded","initCallback","checkElements","scrollWatch","options","merged","arrayEls","registerScrollWatchActions","registerHeaderHeightActions","header","headerHeight","styles","scrollTargetFallback","browserTarget","computedStyle","paddingTop","hasAnchorClass","prevented","stopped","actionTarget","targetOffset","DynamicStylesheet","resolved","registerCssVarsActions","layoutStyles","scrollStyles","currentScrollPosition","useScroll","newPosition","direction","disabled","detectExitIntent","triggerCustomEvent","nearTopEdge","nearLeftEdge","registerExitIntentActions","register","cb","hooks.addAction","constants.REGISTER","constants","hooks","util","viewport","constants.READY","constants.SET_HASH_STATE","hooks.doAction","constants.INIT","formId","constants.GFORM_CONFIRM"],"mappings":"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"}